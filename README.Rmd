---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# areal
While methods to interpolate multiple spatial data sets are currently available in the ArcGIS Suite and the `R` package `sf`, `areal` offers an intuitive assortment of options to validate, interpolate, and compare fields between a source and target data set. 

## Installation
The development version of `areal` can be accessed from Github with `remotes`:

``` r
# install.packages("remotes")
remotes::install_github("slu-openGIS/areal")
```

## Usage 
The package contains two overlapping data sets, `stlRace` (2017 ACS demographic counts at the census tract level; $n=106$) and `stlWards` (the 2010 political subdivisions in St. Louis; $n=28$). These can be used to illustrate the core functionality of the package.

The basic usage of `areal` is through the `aw_interpolate()` function. One advantage of `areal` is that it allows for multiple values to be interpolated at a time. Here, both total estiatmed population (`TOTAL_E`) and the estimated count of white residents (`WHITE_E`) are interpolated at once:

```r
> library(areal)
>
> race <- stlRace
> wards <- stlWards
>
> aw_interpolate(wards, tid = WARD, source = race, sid = "GEOID", output = "tibble", "TOTAL_E", "WHITE_E")
# A tibble: 28 x 4
    WARD       AREA TOTAL_E WHITE_E
 * <int>      <dbl>   <dbl>   <dbl>
 1     1  46138761.   7992.    153.
 2     2 267817711.  12145.   1323.
 3     3  66291644.   7344.    591.
 4     4  53210707.   8458.    160.
 5     5  60462396.   8783.   1526.
 6     6  64337271.  14050.   5840.
 7     7 101268146.  15840.   8220.
 8     8  45966410.  12188.   7604.
 9     9  73993891.  14217.   6838.
10    10  62915358.  11239.   8703.
# ... with 18 more rows
```

One key advantage of `areal` is that is pipeable, meaning that it can fit easily into existing `tidyverse` workflows:

```r
> wards %>%
+ select(-OBJECTID, -AREA) %>%
+ aw_interpolate(tid = WARD, source = race, sid = "GEOID", output = "tibble", "TOTAL_E", "WHITE_E")
# A tibble: 28 x 3
    WARD TOTAL_E WHITE_E
 * <int>   <dbl>   <dbl>
 1     1   7992.    153.
 2     2  12145.   1323.
 3     3   7344.    591.
 4     4   8458.    160.
 5     5   8783.   1526.
 6     6  14050.   5840.
 7     7  15840.   8220.
 8     8  12188.   7604.
 9     9  14217.   6838.
10    10  11239.   8703.
# ... with 18 more rows
```

Another advantage of `areal` is that the interpolation process is not a "black box", but rather can be manually completed if necessary. Details on this are available on the package's website.
